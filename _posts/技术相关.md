技术相关 

mysql存储状态到底是该存int 和string 区别 ？



秒杀系统



双11架构



春晚红包 



分布式事务

```
https://juejin.cn/post/6844903647197806605
```



分表相关技术

```
根据hash一致性
根据日期分
```



```
https://www.21cto.com/article/1222
```



业务 数据库层

```
当业务量越来越大的时候，数据库会变成一个瓶颈。
　　前期可以通过提升硬件的方式来提升数据库的性能。如：
升级到一个有更多CPU的机器；
把硬盘改成 SSD 的或更高级一点的产品。

　　但硬件提升终归是有一个容量限制的。而且很多做业务的小伙伴，写代码的时候都直接操作数据库，发生过很多次服务一上线数据库就被打爆的情形。数据库被打爆掉了之后，除非等待数据库恢复，没有任何其它机会可以恢复业务。
　　如果数据库里面数据是正常的，业务其实都可以补偿出来。所以我们做DAL服务层的时候，第一件事情是限流，其它的东西可以放一放。然后做连接复用，我们Python框架用的多进程单线程加协程的模型。
　　多进程之间其实是不可以共享一个连接的。比如：一台机器上部署了10个 Python进程，每个进程10个数据库连接。再扩展到10台机器上，就有1000个数据库连接。对数据库来说，连接是一个很昂贵的东西，我们DAL层要做一个连接复用。
　　这个连接复用讲的不是服务本身的连接复用，而是说DAL层上的连接复用，就是服务有1000个连接到DAL层，经过连接复用后对数据库可能只是保持着十几个连接。一旦发现某个数据库请求是一个事务的话，那么DAL就帮你保留这个连接的对应关系。当这个事务结束之后，就把数据库的连接，放回到共用池里面去，供其他人使用。
　　然后做冒烟和熔断处理。数据库也可以熔断的，当数据库发生冒烟时，我们会杀掉一些数据库的请求，保证数据库不至于崩溃。
```





idea 全家桶破解

```
安装一个插件，然后配置每次启动置为重置30天
http://lookdiv.com/ 密钥: lookdiv.com
```



```
分布式id算法
https://tech.meituan.com/2017/04/21/mt-leaf.html
```





```sequence
用户-->交易:下单
交易-->交易:下单-改状态包在同一个事务 -待支付
交易-->网关:请求网关
网关-->交易:
```

