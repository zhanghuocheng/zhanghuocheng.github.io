面试题



反射有哪些作用?  ✅
泛型，是否可编译 ✅
什么是意向锁  ✅
join的实现过程是怎样的? ✅
身份证号作为主键有哪些优缺点?  ✅
为什么区分度低的列即便是加了索引也不走索引? ✅
分表的好处是什么?
如何优化大表?其中更新时间建索引
selectbfroma=1andb=2与select*froma=1andb=2哪个执行效率更高?ab列有联合索引
zk保证的是CP还是AP?什么样的应用保证的是AP?A怎么理解
最终一致性是怎么实现的?
两阶段提交有什么问题?三阶段提交怎么理解
Dubbo有哪些组件
限流器是如何实现的?漏斗算法与令牌算法的使用场景?
HTTP与RCP有什么区别?Http"重"在哪里?
快排单链表。幂等







阿里面经：
一面：
上来先让我做了自我介绍，简单介绍了一下之前做过什么项目，用了什么技术等等，没有详细问项目的细节，但具体的功能和业务一定要讲清楚。
中间穿插着会问到一些基础知识。总共面了50多分钟，java基础能问的基本都问完了。
1、JVM垃圾回收，fullgc是否可以回收方法区
2、redis支持的数据类型到跳跃表，redis同步策略
3、如何自己实现lru
4、mysql索引的数据结构，为什么用B+树不用B树
5、事务隔离级别，聚集锁非聚集锁（问到了一个非常细节的问题：如何用可重复读的隔离级别避免幻读）
5、线程池的构造函数参数，队列的拒绝策略
6、spring相关、bean的生命周期，循环引用问题spring如何处理
7、concurrentHashmap1.8为什么放弃了分段锁
8、数据库分库分表相关

感觉一面主要考察的是知识广度。

二面：
1、springAOP的原理，动态代理是怎么实现的
2、snmp
3、fullgc的时候会导致接口的响应速度特别慢，如何排查和解决
4、netty，如何避免的NIO空循环，零拷贝
5、问了一些简单的算法，说一下思路

二面考察的主要是知识的深度以及解决问题的能力。开篇常规先简单自我介绍以及介绍项目。

三面：
kafka的replicas的作用，为什么比其他的消息队列好。
微博评论长链接短链接的问题，让我设计一个服务来处理长链接短链接，包括怎么读怎么存等。

三面面试官特别关注项目的实现和细节。为什么分这几个模块，每个模块做什么以及为什么要用这些技术，都需要非常清楚地解释，中间如果他有疑问会立马打断来问问题。

四面：
去菜鸟总部参加的面试。hr说这次是两名p8一起面，如果这轮能过，下一轮就是p9和hr一起，这面没过。

个人感觉这一轮面试着重点是项目设计上。面我的是两位面试官，简单的自我介绍后让我在白板上画最近负责的项目的流程图，期间经常问我为什么要这样设计？这样设计的好处是什么？有没有更好的设计方式？项目的数据量有多大？如果再增大100倍呢？碰到的真正的难题是什么？这两位面试官面了大概一个小时。

四面面试结束后让我等结果，大概这两位面试官和hr讨论了20分钟，最后hr进来告诉我不好意思这一轮面试没有通过，今天的面试流程就此结束了。

我觉得第四轮挂掉肯定是有很多原因的，自己的项目设计能力太差了，在分析项目的时候很多种情况没有考虑到。





第一轮：

1、先自我介绍，包含日常工作

2、问了父子线程怎么共享数据 interitableThreadLocals

3、lock和sync区别

4、HashMap1.7、1.8区别

5、AQS原理（执行过程源码，入队出队的细节，源码细节）

6、CountDownLatch和CyclicBarrier的区别是什么源码级别

7、volatile从指令重排序，内存屏障，聊到总线风暴

8、mysql索引：聚集索引、非聚集索引、索引结构，顺带会问各种树的特性

9、举例优化sql

10、MVCC和事务隔离级别的关系

11、间隙锁、行锁、乐观锁悲观锁等

12、唯一索引和普通索引的区别

13、聊到了changeBuffer、页分裂合页合并

14、可达性分析算法中根节点有哪些

15、cms和G1区别

16、怎样GC调优

17、怎样排查CPU彪高、内存彪高

18、redis数据结构、跳跃表

19、redis qps能上多少，怎么知道的

20、sentinel和cluster区别和各自适用场景

21、redis cluster集群同步过程

22、redis单线程为什么快

23、多大叫大key、热key产生原因和后果以及怎么解决

24、本地缓存需要高时效性怎么办

25、spring的作用；

26、spring循环依赖怎么解决（说出三级缓存源码细节）；

27、spring aop原理（动态代理）、

28、spring bean生命周期（源码细节，以及各个位置的设计思路，有什么可扩展的）

29、dubbo服务暴露和引用过程，负载均衡策略，容错机制在哪里实现的源码

30、项目中碰到的问题。

31、为什么换工作，如果通过会直接说有笔试题，和你确认笔试时间。


第二轮

笔试两道题，第一题写代码，第二题写技术方案，以查询为主，考察锁粒度、时间粒度上的细节点。


第三轮

1、自我介绍、项目介绍

2、说到缓存穿透，让我设计一个防止缓存穿透的解决方案，简单的就是存null值，但肯定会深究，可以结合布隆过滤器，设计分布式系统，里面又会问到流量分发到具体过滤器服务的方式，比如一致性hash算法，怎么调用？比如dubbo直连、等等细节会边说边问

3、有没有做限流，设计一个侵入性最小的限流服务。

4、项目中碰到的问题，最好说框架本身问题，能提现个人能力，也避免问题太低级被面试官看low，刚好之前有发现一个dubbo的bug，所以这问题应该回答的还可以

5、为什么换工作


第四轮

1、介绍最熟悉的项目，业务上有没有什么优化点；和同行业其他公司的差距和优势

2、dubbo服务调用过程

3、NIO、BIO区别，NIO解决了什么问题，Netty线程模型（源码拷问）。

4、MQ相关


第五轮

1、项目介绍

2、听到说做了限流，限流标准（并发数？ qps？并发数和qps关系？说出了5种限流方案和对应算法原理）

3、dubbo调用端怎么在jvm中生成对应服务？dubbo服务端和调用端超时时间设置和区别、dubbo长连接。

4、mysql行锁最大并发数？（秒杀项目指出）

5、设计秒杀系统，我说的异步的方式，会问怎么优化？改为了同步的方式，异步和同步区别？

6、碰到哪些技术难点？怎么解决？有没有参考其他大厂？其他大厂方案什么样的？有没有关注阿里这边最新的技术？

7、刚刚的秒杀系统，会涉及到多个库表的更新，分布式事务怎么解决，我说的消息最终一致性，异步？有没有更好的方案？同步TCC方式，TCC方式原理？（三个阶段的具体实现）


第六轮

主管视频面试：个人介绍、项目介绍为主，十五分钟结束。


第七轮

HR面试：项目介绍、职位介绍、离职原因、当前薪资，如果没什么问题，一天后会电话反馈待遇并确认是否接受。



hashtable为啥读要加锁